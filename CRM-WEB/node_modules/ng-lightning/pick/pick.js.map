{"version":3,"file":"pick.js","sourceRoot":"","sources":["../../../temp/inline/pick/pick.ts"],"names":[],"mappings":"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","sourcesContent":["import { Directive, Input, Output, EventEmitter} from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport {toBoolean} from '../util/util';\n\n\nexport class NglPick {\n\n  selected: any;\n  values = new BehaviorSubject(null);\n  isMultiple = false;\n\n   set setSelected(selected: string) {\n    this.selected = selected;\n    this.ngAfterContentInit();\n  }\n\n   nglPickActiveClass: string;\n\n   nglPickChange = new EventEmitter();\n   nglOptionDestroyed = new EventEmitter();\n\n   set setIsMultiple(isMultiple: any) {\n    this.isMultiple = toBoolean(isMultiple);\n  }\n\n  ngAfterContentInit() {\n    this.values.next(this.selected);\n  }\n\n  selectOption(value: any) {\n    let next: any;\n    if (this.isMultiple) {\n      if (Array.isArray(this.selected)) {\n        // Remove if already there or add to selection\n        const index = this.selected.indexOf(value);\n        next = index > -1\n                ? [...this.selected.slice(0, index), ...this.selected.slice(index + 1)]\n                : [...this.selected, value];\n      } else {\n        next = Object.assign({}, this.selected, {[value]: !this.selected[value]});\n      }\n    } else {\n      next = value;\n    }\n\n    this.nglPickChange.emit(next);\n  }\n\n  optionRemoved(value: any) {\n    if (this.isMultiple && !this.selected) return;\n\n    let emit: boolean;\n\n    if (this.isMultiple) {\n      emit = Array.isArray(this.selected) ? this.selected.indexOf(value) > -1 : !!this.selected[value];\n    } else {\n      emit = this.selected === value;\n    }\n\n    if (emit) {\n      setTimeout(() => this.nglOptionDestroyed.emit(value));\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[nglPick]',\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'setSelected': [{ type: Input, args: ['nglPick', ] },],\n'nglPickActiveClass': [{ type: Input },],\n'nglPickChange': [{ type: Output },],\n'nglOptionDestroyed': [{ type: Output },],\n'setIsMultiple': [{ type: Input, args: ['nglPickMultiple', ] },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}